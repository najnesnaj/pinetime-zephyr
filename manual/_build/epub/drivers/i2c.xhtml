<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml" xmlns:epub="http://www.idpf.org/2007/ops">
  <head>
    <meta charset="utf-8" />
    <title>configuring I2C</title>
    <link rel="stylesheet" href="../_static/epub.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" /> 
  </head><body>

    <div class="document">
      <div class="documentwrapper">
          <div class="body" role="main">
            
  <div class="section" id="configuring-i2c">
<h1>configuring I2C</h1>
<div class="section" id="board-level-definitions">
<h2>board level definitions</h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">under</span> <span class="n">boards</span><span class="o">/</span><span class="n">arm</span><span class="o">/</span><span class="n">pinetime</span> <span class="n">are</span> <span class="n">the</span> <span class="n">board</span> <span class="n">definitions</span>
<span class="o">-</span> <span class="n">pinetime</span><span class="o">.</span><span class="n">dts</span>
<span class="o">-</span> <span class="n">pinetime_defconfig</span>


<span class="n">The</span> <span class="n">sensors</span> <span class="ow">in</span> <span class="n">the</span> <span class="n">pinetime</span> <span class="n">use</span> <span class="n">the</span> <span class="n">I2C</span> <span class="n">bus</span><span class="o">.</span>

<span class="o">&amp;</span><span class="n">i2c1</span> <span class="p">{</span>
        <span class="n">compatible</span> <span class="o">=</span> <span class="s2">&quot;nordic,nrf-twi&quot;</span><span class="p">;</span>
        <span class="n">status</span> <span class="o">=</span> <span class="s2">&quot;okay&quot;</span><span class="p">;</span>
        <span class="n">sda</span><span class="o">-</span><span class="n">pin</span> <span class="o">=</span> <span class="o">&lt;</span><span class="mi">6</span><span class="o">&gt;</span><span class="p">;</span>
        <span class="n">scl</span><span class="o">-</span><span class="n">pin</span> <span class="o">=</span> <span class="o">&lt;</span><span class="mi">7</span><span class="o">&gt;</span><span class="p">;</span>

      <span class="p">};</span>
</pre></div>
</div>
</div>
<div class="section" id="definition-on-project-level">
<h2>definition on project level</h2>
<p>In the directory of a sample, you will find a prj.conf file.
Here you can set values specific for you project/sample.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">In</span> <span class="n">the</span> <span class="s2">&quot;prj.conf&quot;</span> <span class="n">file</span> <span class="n">we</span> <span class="n">define</span> <span class="n">the</span> <span class="n">sensor</span> <span class="p">(</span><span class="n">eg</span> <span class="n">adxl372</span><span class="p">)</span>

<span class="n">CONFIG_STDOUT_CONSOLE</span><span class="o">=</span><span class="n">y</span>
<span class="n">CONFIG_LOG</span><span class="o">=</span><span class="n">y</span>
<span class="n">CONFIG_I2C</span><span class="o">=</span><span class="n">y</span>
<span class="n">CONFIG_SENSOR</span><span class="o">=</span><span class="n">y</span>
<span class="n">CONFIG_ADXL372</span><span class="o">=</span><span class="n">y</span>
<span class="n">CONFIG_ADXL372_I2C</span><span class="o">=</span><span class="n">y</span>
<span class="n">CONFIG_SENSOR_LOG_LEVEL_WRN</span><span class="o">=</span><span class="n">y</span>
</pre></div>
</div>
<p><strong>note: this gets somehow merged (overlayed) with the board definition pinetime_defconfig</strong></p>
</div>
</div>


          </div>
      </div>
      <div class="clearer"></div>
    </div>
  </body>
</html>