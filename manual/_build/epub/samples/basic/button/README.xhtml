<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml" xmlns:epub="http://www.idpf.org/2007/ops">
  <head>
    <meta charset="utf-8" />
    <title>Button demo</title>
    <link rel="stylesheet" href="../../../_static/epub.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" /> 
  </head><body>

    <div class="document">
      <div class="documentwrapper">
          <div class="body" role="main">
            
  <div class="section" id="button-demo">
<span id="button-sample"></span><h1>Button demo</h1>
<div class="section" id="overview">
<h2>Overview</h2>
<p>A simple button demo showcasing the use of GPIO input with interrupts.
If the button is pressed, it will set a value at the location 0x2000F000 in memory.
With openocd or any other debugger you can peek at this location.</p>
</div>
<div class="section" id="requirements">
<h2>Requirements</h2>
<p>The demo assumes that a push button is connected to one of GPIO lines. The
sample code is configured to work on boards with user defined buttons and that
have defined the SW0_* variables.</p>
<p>To use this sample, you will require a board that defines the user switch in its
header file. The <code class="file docutils literal notranslate"><span class="pre">board.h</span></code> must define the following variables:</p>
<ul class="simple">
<li><p>SW0_GPIO_NAME (or DT_ALIAS_SW0_GPIOS_CONTROLLER)</p></li>
<li><p>DT_ALIAS_SW0_GPIOS_PIN</p></li>
</ul>
<p>Alternatively, this could also be done by defining ‘sw0’ alias in the board
devicetree description file.</p>
</div>
<div class="section" id="building-and-running">
<h2>Building and Running</h2>
<p>This sample can be built for multiple boards, in this example we will build it
for the pinetime</p>
<p>After startup, the program looks up a predefined GPIO device, and configures the
pin in input mode, enabling interrupt generation on falling edge. During each
iteration of the main loop, the state of GPIO line is monitored and printed to
the serial console. When the input button gets pressed, the interrupt handler
will print an information about this event along with its timestamp.</p>
</div>
</div>


          </div>
      </div>
      <div class="clearer"></div>
    </div>
  </body>
</html>